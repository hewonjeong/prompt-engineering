import { getCompletion } from '../ai.js'

const story = `
ìµœê·¼ ì •ë¶€ì—ì„œ ì‹¤ì‹œí•œ ì„¤ë¬¸ ì¡°ì‚¬ì—ì„œ ê³µê³µ ë¶€ë¬¸ ì§ì›ë“¤ì—ê²Œ ìžì‹ ì´ ê·¼ë¬´í•˜ëŠ” ë¶€ì„œì— ëŒ€í•œ ë§Œì¡±ë„ë¥¼ í‰ê°€í•´ ë‹¬ë¼ëŠ” ìš”ì²­ì„ ë°›ì•˜ìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼ ê°€ìž¥ ì¸ê¸° ìžˆëŠ” ë¶€ì„œëŠ” ë§Œì¡±ë„ê°€ ê°€ìž¥ ë†’ì€ ë¶€ì„œë¡œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.
NASAì˜ í•œ ì§ì›ì¸ ì¡´ ìŠ¤ë¯¸ìŠ¤ëŠ” ì¡°ì‚¬ ê²°ê³¼ì— ëŒ€í•´ ë‹¤ìŒê³¼ ê°™ì´ ë§í–ˆìŠµë‹ˆë‹¤, "NASAê°€ 1ìœ„ì— ì˜¤ë¥¸ ê²ƒì´ ë†€ëžì§€ ì•ŠìŠµë‹ˆë‹¤. í›Œë¥­í•œ ì‚¬ëžŒë“¤ê³¼ í•¨ê»˜ ì¼í•˜ê¸° ì¢‹ì€ ê³³ì´ê³  ë†€ë¼ìš´ ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í˜ì‹ ì ì¸ ì¡°ì§ì˜ ì¼ì›ì´ ëœ ê²ƒì´ ìžëž‘ìŠ¤ëŸ½ìŠµë‹ˆë‹¤."
ì´ë²ˆ ê²°ê³¼ëŠ” NASAì˜ ê²½ì˜ì§„ë„ í™˜ì˜í–ˆìŠµë‹ˆë‹¤, í†° ì¡´ìŠ¨(Tom Johnson) êµ­ìž¥ì€ "ìš°ë¦¬ ì§ì›ë“¤ì´ ì§ì›ë“¤ì´ NASAì—ì„œì˜ ì—…ë¬´ì— ë§Œì¡±í•˜ê³  ìžˆë‹¤ëŠ” ì†Œì‹ì„ ë“£ê²Œ ë˜ì–´ ê¸°ì©ë‹ˆë‹¤. ìš°ë¦¬ì—ê²ŒëŠ” ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ì§€ì¹  ì¤„ ëª¨ë¥´ê³  ì¼í•˜ê³  ìžˆëŠ” ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ëŠìž„ì—†ì´ ë…¸ë ¥í•˜ëŠ” ìž¬ëŠ¥ ìžˆê³  í—Œì‹ ì ì¸ íŒ€ì´ ìžˆìŠµë‹ˆë‹¤. ì„±ê³¼ë¥¼ ë‚´ê³  ìžˆìŠµë‹ˆë‹¤."
ì„¤ë¬¸ì¡°ì‚¬ì— ë”°ë¥´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì‚¬ì‹¤ë„ ë°í˜€ì¡ŒìŠµë‹ˆë‹¤. ì‚¬íšŒë³´ìž¥êµ­ì€ ë§Œì¡±ë„ê°€ ê°€ìž¥ ë‚®ì•˜ìŠµë‹ˆë‹¤. ì§ì›ì˜ 45%ë§Œì´ ìžì‹ ì˜ ì—…ë¬´ì— ë§Œì¡±í•œë‹¤ê³  ë‹µí–ˆìŠµë‹ˆë‹¤. ìžì‹ ì˜ ì§ì—…ì— ë§Œì¡±í•œë‹¤ê³  ë‹µí–ˆìŠµë‹ˆë‹¤. ì •ë¶€ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì•½ì†í–ˆìŠµë‹ˆë‹¤. ì„¤ë¬¸ì¡°ì‚¬ì—ì„œ ì§ì›ë“¤ì´ ì œê¸°í•œ ìš°ë ¤ ì‚¬í•­ì„ í•´ê²°í•˜ê³  ëª¨ë“  ë¶€ì„œì˜ ì§ë¬´ ë§Œì¡±ë„ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê² ë‹¤ê³  ì•½ì†í–ˆìŠµë‹ˆë‹¤.
`

const topics = ['ë‚˜ì‚¬', 'ì§€ë°© ì •ë¶€', 'ì—”ì§€ë‹ˆì–´ë§', 'ì§ì› ë§Œì¡±ë„', 'ì—°ë°© ì •ë¶€']

const response = await getCompletion(`
ì£¼ì–´ì§„ ì£¼ì œ ëª©ë¡ì˜ ê° í•­ëª©ì´ í°ë”°ì˜´í‘œë¡œ êµ¬ë¶„ëœ ì•„ëž˜ í…ìŠ¤íŠ¸ì˜ ì£¼ì œì— í•´ë‹¹í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•´ì¤˜
í•´ë‹¹í•˜ëŠ” ì£¼ì œë§Œ í¬í•¨í•œ string ë°°ì—´ë¡œ ì‘ë‹µí•´ì¤˜

ì£¼ì œ ëª©ë¡: ${topics.join(', ')}
í…ìŠ¤íŠ¸: """${story}"""
`)

JSON.parse(response ?? '[]').forEach((topic: string) => {
  console.log(`ðŸ”” ALERT: ìƒˆë¡œìš´ ${topic} ê´€ë ¨ ê¸°ì‚¬ê°€ ìžˆì–´ìš”!`)
})
